# LifeOS - Ecosystem Workflow Status
#
# This tracks the BMAD workflow for the entire LifeOS modular ecosystem.
# Individual module workflows are tracked in their respective folders.
#
# PROJECT: LifeOS (Life Operating System) - Modular Life Coaching Ecosystem
# ARCHITECTURE: Modular app with premium subscriptions
# MVP: 3 Modules (Life Coach + Fitness Coach + Mind & Emotion)

generated: "2025-01-16"
last_updated: "2025-11-17"  # Sprint planning complete - all 66 stories ready for dev
project: "LifeOS"
project_type: "software"
selected_track: "enterprise"
field_type: "greenfield"
workflow_path: "enterprise-greenfield.yaml"

# ============================================================================
# ECOSYSTEM ARCHITECTURE
# ============================================================================

ecosystem:
  name: "LifeOS"
  tagline: "Your AI-powered operating system for life"
  architecture_type: "modular"

  monetization_model: "freemium + modular subscriptions + ads"
  pricing:
    free_tier: "Life Coach (basic) + 14-day trial of any module"
    single_module: "2.99 EUR/month"
    three_module_pack: "5.00 EUR/month"
    lifeos_plus_all_access: "7.00 EUR/month"
    trial_period: "14 days"
    regional_pricing: "Yes (UK, PL, EU)"

  modules:
    mvp_phase:
      - name: "Life Coach AI"
        status: "planned"
        role: "Core module - AI brain of the ecosystem"
        priority: "P0"
      - name: "Fitness Coach AI"
        status: "designed"  # GymApp module already planned
        role: "Workout tracking, training plans, AR analysis"
        priority: "P0"
      - name: "Mind & Emotion"
        status: "planned"
        role: "Mental health, mindfulness, CBT, meditation"
        priority: "P0"

    phase_2:
      - name: "Talent Tree"
        status: "concept"
        role: "RPG-style gamification of life progress"
        priority: "P1"
      - name: "Relationship AI"
        status: "concept"
        role: "Communication coaching, relationship guidance"
        priority: "P1"
      - name: "Tandem/Team Mode"
        status: "concept"
        role: "Social features, shared goals, team challenges"
        priority: "P1"
      - name: "Human Help"
        status: "concept"
        role: "Social good platform, peer support, donations"
        priority: "P2"
      - name: "E-Learning"
        status: "concept"
        role: "Micro courses on life skills"
        priority: "P1"
      - name: "AI Future Self"
        status: "concept"
        role: "Conversations with your future self"
        priority: "P2"
      - name: "Life Map"
        status: "concept"
        role: "Visual dashboard of your life progress"
        priority: "P1"

# ============================================================================
# BMAD WORKFLOW PROGRESS - ECOSYSTEM LEVEL
# ============================================================================

workflow_status: |
  # Phase 0: Discovery (✅ COMPLETE)
  brainstorm-answers: docs/ecosystem/brainstorming-answers.md  # ✅ COMPLETE
  brainstorm-project: docs/ecosystem/bmm-brainstorming-session-2025-01-16.md  # ✅ COMPLETE
  research-technical: docs/ecosystem/research-technical-2025-01-16.md  # ✅ COMPLETE
  research-domain: docs/ecosystem/research-domain-2025-01-16.md  # ✅ COMPLETE
  product-brief: docs/ecosystem/product-brief-LifeOS-2025-01-16.md  # ✅ COMPLETE

  # Phase 1: Planning (✅ COMPLETE)
  prd: docs/ecosystem/prd.md  # ✅ COMPLETE (123 FRs, 37 NFRs, mobile_app + general domain)
  validate-prd: docs/ecosystem/validation-report-2025-01-16.md  # ✅ COMPLETE (100% pass rate, 116/116 criteria, APPROVED)
  create-design: docs/ecosystem/ux-design-specification.md  # ✅ COMPLETE (Nike+Headspace fusion, 5 UX principles, complete visual system)

  # Phase 2: Solutioning (✅ COMPLETE - 2025-01-16)
  create-architecture: docs/ecosystem/architecture.md  # ✅ COMPLETE (13 architectural decisions, CMI pattern, 100% NFR coverage)
  test-design: docs/ecosystem/test-design-system.md  # ✅ COMPLETE (18 risks, 523 tests, 660h effort)
  create-security-architecture: docs/ecosystem/security-architecture.md  # ✅ COMPLETE (E2EE, RLS, threat model)
  create-devops-strategy: docs/ecosystem/devops-strategy.md  # ✅ COMPLETE (CI/CD, environments, monitoring)
  validate-architecture: docs/ecosystem/architecture-validation-report.md  # ✅ COMPLETE (APPROVED with minor recommendations)
  solutioning-gate-check: recommended  # agent: architect (NEXT STEP)

  # Phase 3: Implementation Planning (✅ COMPLETE - 2025-11-17)
  sprint-planning: docs/sprint-artifacts/  # ✅ COMPLETE (9 epics, 66 stories, all ready-for-dev)
  story-contexts: docs/sprint-artifacts/sprint-*/  # ✅ COMPLETE (66 context XMLs generated)
  project-setup: docs/PROJECT-SETUP-GUIDE.md  # ✅ COMPLETE

# ============================================================================
# SPRINT PLANNING SUMMARY
# ============================================================================

sprint_planning_summary:
  status: "COMPLETE"
  completion_date: "2025-11-17"
  total_epics: 9
  total_stories: 66
  all_stories_status: "ready-for-dev"

  epics:
    - epic: "Epic 1 - Core Platform Foundation"
      stories: 6
      status: "contexted"
      stories_ready: 6

    - epic: "Epic 2 - Life Coach MVP"
      stories: 10
      status: "contexted"
      stories_ready: 10

    - epic: "Epic 3 - Fitness Coach MVP"
      stories: 10
      status: "contexted"
      stories_ready: 10

    - epic: "Epic 4 - Mind & Emotion MVP"
      stories: 12
      status: "contexted"
      stories_ready: 12

    - epic: "Epic 5 - Cross-Module Intelligence"
      stories: 5
      status: "contexted"
      stories_ready: 5

    - epic: "Epic 6 - Gamification & Retention"
      stories: 6
      status: "contexted"
      stories_ready: 6

    - epic: "Epic 7 - Onboarding & Subscriptions"
      stories: 7
      status: "contexted"
      stories_ready: 7

    - epic: "Epic 8 - Notifications & Engagement"
      stories: 5
      status: "contexted"
      stories_ready: 5

    - epic: "Epic 9 - Settings & Profile"
      stories: 5
      status: "contexted"
      stories_ready: 5

  deliverables:
    - item: "66 story context XMLs"
      location: "docs/sprint-artifacts/sprint-*/*.context.xml"
      status: "complete"

    - item: "66 story .md files (updated)"
      location: "docs/sprint-artifacts/sprint-*/*.md"
      status: "complete"

    - item: "sprint-status.yaml tracking file"
      location: "docs/sprint-artifacts/sprint-status.yaml"
      status: "complete"

    - item: "Project Setup Guide"
      location: "docs/PROJECT-SETUP-GUIDE.md"
      status: "complete"

  context_xml_structure:
    sections:
      - "Metadata (epic, story, title, status, generated date)"
      - "Story (user story, 7-10 tasks with 40-50 subtasks)"
      - "Acceptance Criteria (5-12 criteria with priorities)"
      - "Artifacts (docs, code references, dependencies)"
      - "Constraints (architectural, security, UX, performance, testing)"
      - "Interfaces (entities, use cases, repositories, DB schemas)"
      - "Tests (standards, locations, 12-20 test ideas)"

    test_coverage_target: "75-85%"
    test_pyramid: "70% unit / 20% widget / 10% integration"

# ============================================================================
# MODULE WORKFLOWS
# ============================================================================

module_workflows:
  fitness:
    path: "docs/modules/module-fitness/"
    workflow_file: "docs/modules/module-fitness/bmm-workflow-status.yaml"
    status: "Phase 3 Complete"
    completion: "100%"
    notes: |
      Originally planned as standalone "GymApp"
      Now integrated as "Fitness Coach AI" module
      All planning complete (Sprints 1-3, 43 SP)
      Ready for implementation when MVP starts

  life_coach:
    path: "docs/modules/module-life-coach/"
    workflow_file: "pending"
    status: "Not Started"
    completion: "0%"
    notes: |
      Core module - AI brain
      Will be planned in ecosystem Brainstorming Session

  mind:
    path: "docs/modules/module-mind/"
    workflow_file: "pending"
    status: "Not Started"
    completion: "0%"
    notes: |
      Mental health & mindfulness module
      Will be planned in ecosystem Brainstorming Session

# ============================================================================
# NEXT STEPS
# ============================================================================

next_steps:
  current_phase: "Phase 3: Implementation Planning"
  current_step: "Ready for Development"

  completed_actions:
    - step: 1
      action: "Validate architecture completeness and quality"
      owner: "BMAD Architect"
      status: "completed - 2025-01-16"
      result: "APPROVED with minor recommendations (Dart 3.10+, PostgreSQL 17+)"

    - step: 2
      action: "Create test design (System-Level)"
      owner: "BMAD TEA"
      status: "completed - 2025-01-16"
      result: "18 risks identified, 523 tests planned, 660h effort estimate"

    - step: 3
      action: "Security architecture created"
      owner: "BMAD Architect"
      status: "completed - 2025-01-16"
      result: "E2EE, RLS, threat model documented"

    - step: 4
      action: "DevOps strategy created"
      owner: "BMAD Architect"
      status: "completed - 2025-01-16"
      result: "CI/CD, environments, monitoring defined"

    - step: 5
      action: "Sprint planning completed"
      owner: "BMAD SM"
      status: "completed - 2025-11-17"
      result: "9 epics planned, 66 stories created, all context XMLs generated"

    - step: 6
      action: "Story contexts generated"
      owner: "BMAD Analyst + PM"
      status: "completed - 2025-11-17"
      result: "66 comprehensive context XMLs created for all stories"

    - step: 7
      action: "Project Setup Guide created"
      owner: "BMAD SM"
      status: "completed - 2025-11-17"
      result: "Complete setup documentation for greenfield Flutter project"

  immediate_actions:
    - step: 1
      action: "Set up development environment"
      owner: "Development Team"
      status: "ready"
      details: |
        Follow PROJECT-SETUP-GUIDE.md:
        - Install Flutter 3.38+, Dart 3.10+
        - Set up Supabase project and database
        - Configure Firebase for FCM
        - Initialize Flutter project with dependencies
        - Set up local development environment

    - step: 2
      action: "Begin Epic 1 implementation"
      owner: "Development Team"
      status: "ready"
      details: |
        Start with Core Platform Foundation (Epic 1):
        - Story 1.1: User Account Creation (Supabase Auth)
        - Story 1.2: User Login & Session Management
        - Story 1.3: Password Reset Flow
        - Story 1.4: User Profile Management
        - Story 1.5: Data Sync Across Devices
        - Story 1.6: GDPR Compliance (Data Export/Deletion)

        Each story has complete context XML with:
        - 7-10 implementation tasks
        - 40-50 detailed subtasks
        - Acceptance criteria
        - Technical constraints
        - Interface definitions
        - Test scenarios (75-85% coverage target)

    - step: 3
      action: "Follow BMAD dev workflow"
      owner: "Development Team"
      status: "ready"
      details: |
        For each story:
        1. Read story context XML
        2. Implement tasks and subtasks
        3. Write tests (70/20/10 pyramid)
        4. Move to 'in-progress' status
        5. Complete implementation
        6. Move to 'review' status
        7. Code review by SM
        8. Move to 'done' status
        9. Update sprint-status.yaml

  future_phases:
    - phase: "Phase 1: Planning"
      estimated_start: "After Product Brief approved"
      duration: "2-3 weeks"

    - phase: "Phase 2: Solutioning"
      estimated_start: "After PRD approved"
      duration: "2-3 weeks"

    - phase: "Phase 3: Implementation"
      estimated_start: "After Architecture validated"
      duration: "3-6 months (MVP: 3 modules)"

# ============================================================================
# TECHNOLOGY DECISIONS (PRELIMINARY)
# ============================================================================

technology:
  frontend:
    framework: "Flutter 3.16+"  # ✅ DECIDED
    platforms: ["iOS", "Android", "Web (future)"]
    design: "Nike + Headspace fusion"
    themes: "Deep Blue, Energetic Teal, Orange/Purple accents"

  backend:
    infrastructure: "Supabase"  # ✅ DECIDED (PostgreSQL, open-source)
    database: "PostgreSQL (via Supabase)"
    realtime: "Supabase Realtime"
    auth: "Supabase Auth (email, Google, Apple)"
    storage: "Supabase Storage"
    functions: "Supabase Edge Functions (AI orchestration)"

  ai_integration:
    strategy: "Hybrid + User Choice"  # ✅ DECIDED
    models:
      free_tier: "Llama 3 (self-hosted)"
      standard_tier: "Claude (Anthropic API)"
      premium_tier: "GPT-4 (OpenAI API)"
    budget: "30% of revenue"
    fallback: "Clear error messages (no internet / rate limit)"

    by_module:
      life_coach:
        free: "Llama"
        standard: "Claude"
        premium: "GPT-4"
      mind:
        free: "Claude (limited)"
        standard: "Claude"
        premium: "GPT-4"
      fitness:
        free: "Rule-based + Llama"
        standard: "Claude"
        premium: "GPT-4"

  architecture:
    pattern: "modular monolith"  # Single app with modular features
    state_management: "Riverpod 2.x"  # ✅ From Fitness module
    local_database: "Drift (SQLite)"  # ✅ From Fitness module
    sync: "Supabase Realtime"

  ai_features:
    - "Daily life plan generation (Life Coach)"
    - "Conversational coaching (Life Coach)"
    - "Workout recommendations (Fitness + Life Coach)"
    - "Meditation script generation (Mind)"
    - "CBT chat therapy (Mind)"
    - "Mood analysis (Mind)"
    - "Burnout prediction (cross-module)"

# ============================================================================
# RISKS & ASSUMPTIONS
# ============================================================================

risks:
  - id: "RISK-001"
    description: "AI costs may be prohibitive for freemium model"
    probability: "high"
    impact: "critical"
    mitigation: "Use hybrid approach (GPT-4 for premium, open-source for free)"

  - id: "RISK-002"
    description: "Scope too large for MVP (3 modules)"
    probability: "medium"
    impact: "high"
    mitigation: "Start with 2 modules (Life Coach + Fitness), defer Mind to Phase 2"

  - id: "RISK-003"
    description: "Module integration complexity"
    probability: "medium"
    impact: "medium"
    mitigation: "Design shared core platform with clean module interfaces"

  - id: "RISK-004"
    description: "Privacy/security concerns with AI handling sensitive data"
    probability: "medium"
    impact: "critical"
    mitigation: "Prioritize security architecture, GDPR compliance, data anonymization"

assumptions:
  - "Users are willing to pay for AI-powered life coaching"
  - "Modular pricing model is attractive (vs all-in-one)"
  - "Fitness Coach AI (GymApp) can be integrated without major redesign"
  - "AI technology will continue to improve and costs will decrease"
  - "Market appetite exists for comprehensive life coaching app"

# ============================================================================
# QUESTIONS TO ANSWER IN BRAINSTORMING
# ============================================================================

open_questions:
  monetization:
    - "What is the optimal pricing for each tier?"
    - "Should we offer lifetime purchases or subscription-only?"
    - "How do we handle module trials (time-based or feature-based)?"
    - "What features are free vs premium within each module?"

  technology:
    - "Which AI provider(s) should we use? (OpenAI, Anthropic, open-source)"
    - "What is the AI usage budget per user per month?"
    - "Should we self-host open-source LLMs or use cloud APIs?"
    - "How do we handle AI rate limits and failover?"

  product:
    - "What is the onboarding flow across multiple modules?"
    - "How do modules share data (e.g., fitness data → life coach)?"
    - "Can users purchase modules individually or only through app?"
    - "What is the minimum viable feature set per module?"

  market:
    - "Who are the primary competitors? (Calm, Headspace, Noom, Freeletics)"
    - "What is our unique value proposition?"
    - "Which market should we launch first? (UK, PL, US, global)"
    - "B2C only or also B2B (corporate wellness)?"

# ============================================================================
# NOTES
# ============================================================================

notes: |
  LifeCoach AI - Ecosystem Workflow Tracker
  =========================================

  This file tracks the BMAD workflow for the ENTIRE ecosystem.
  Individual modules have their own detailed planning in:
  - docs/modules/module-fitness/ (GymApp - COMPLETE)
  - docs/modules/module-life-coach/ (PENDING)
  - docs/modules/module-mind/ (PENDING)

  The Fitness Coach AI module (formerly GymApp) has complete planning:
  - PRD with 23 FRs, 15 NFRs
  - Architecture validated
  - 3 sprints planned (43 SP)
  - Ready to implement when MVP starts

  This gives us a head start on the MVP!

  Next: Brainstorming Session to define:
  1. Life Coach AI module (core)
  2. Mind & Emotion module
  3. Ecosystem integration strategy
  4. AI infrastructure
  5. Shared platform requirements
